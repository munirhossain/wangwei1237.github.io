<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-Hans" xml:lang="zh-Hans"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Introduction to Probability and Statistics for Engineers and Scientists（中文版） - 4&nbsp; 随机变量和期望</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapter_5/5.html" rel="next">
<link href="../chapter_3/3.html" rel="prev">
<link href="../favicon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "没有结果",
    "search-matching-documents-text": "匹配的文档",
    "search-copy-link-title": "复制搜索链接",
    "search-hide-matches-text": "隐藏其它匹配结果",
    "search-more-match-text": "更多匹配结果",
    "search-more-matches-text": "更多匹配结果",
    "search-clear-button-title": "清除",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "取消",
    "search-submit-button-title": "提交",
    "search-label": "搜索"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<meta property="og:title" content="Introduction to Probability and Statistics for Engineers and Scientists（中文版） - 4&nbsp; 随机变量和期望">
<meta property="og:description" content="">
<meta property="og:site_name" content="Introduction to Probability and Statistics for Engineers and Scientists（中文版）">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../favicon.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Introduction to Probability and Statistics for Engineers and Scientists（中文版）</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="搜索"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="切换导航" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://wangwei1237.github.io/"> <i class="bi bi-house-fill" role="img">
</i> 
<span class="menu-text">博客</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-bookshelf" role="img">
</i> 
 <span class="menu-text">书籍</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-">    
        <li>
    <a class="dropdown-item" href="https://zh.d2l.ai/">
 <span class="dropdown-text">动手学深度学习</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://learnprompting.org/zh-Hans/docs/intro">
 <span class="dropdown-text">Learn Prompting</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://pan.baidu.com/s/1dciwgbhO-lfKyRo8lOqW9Q?pwd=cm9q">
 <span class="dropdown-text">Stabel Diffusion 提示词手册</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="https://wangwei1237.github.io/aboutme/"> <i class="bi bi-person-badge-fill" role="img">
</i> 
<span class="menu-text">关于</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
    <a href="https://github.com/wangwei1237/introduction_to_probability_and_statistics" title="源代码" class="quarto-navigation-tool px-1" aria-label="源代码"><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="切换侧边栏导航" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapter_4/4.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">随机变量和期望</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="切换侧边栏导航" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">欢迎阅读</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../preface_17.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">译者序</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">序言</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_1/1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">统计学简介</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_2/2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">描述统计</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_3/3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">概率论基础</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_4/4.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">随机变量和期望</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_5/5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Special random variables</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_6/6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Distributions of sampling statistics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_7/7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Parameter estimation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_8/8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Hypothesis testing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_9/9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_10/10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Analysis of variance</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_11/11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Goodness of fit tests and categorical data analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_12/12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Nonparametric hypothesis tests</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_13/13.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Quality control</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_14/14.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Life testing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_15/15.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Simulation, bootstrap statistical methods, and permutation tests</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapter_16/16.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Machine learning and big data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">测试脚本</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">附录</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="切換部分">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../appendices.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">APPENDIX OF TABLES</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">目录</h2>
   
  <ul>
  <li><a href="#随机变量" id="toc-随机变量" class="nav-link active" data-scroll-target="#随机变量"><span class="header-section-number">4.1</span> 随机变量</a></li>
  <li><a href="#随机变量的类型" id="toc-随机变量的类型" class="nav-link" data-scroll-target="#随机变量的类型"><span class="header-section-number">4.2</span> 随机变量的类型</a></li>
  <li><a href="#联合分布" id="toc-联合分布" class="nav-link" data-scroll-target="#联合分布"><span class="header-section-number">4.3</span> 联合分布</a>
  <ul class="collapse">
  <li><a href="#独立随机变量" id="toc-独立随机变量" class="nav-link" data-scroll-target="#独立随机变量"><span class="header-section-number">4.3.1</span> 独立随机变量</a></li>
  <li><a href="#条件分布" id="toc-条件分布" class="nav-link" data-scroll-target="#条件分布"><span class="header-section-number">4.3.2</span> 条件分布</a></li>
  </ul></li>
  <li><a href="#期望" id="toc-期望" class="nav-link" data-scroll-target="#期望"><span class="header-section-number">4.4</span> 期望</a></li>
  <li><a href="#properties-of-the-expected-value" id="toc-properties-of-the-expected-value" class="nav-link" data-scroll-target="#properties-of-the-expected-value"><span class="header-section-number">4.5</span> Properties of the expected value</a></li>
  <li><a href="#variance" id="toc-variance" class="nav-link" data-scroll-target="#variance"><span class="header-section-number">4.6</span> Variance</a></li>
  <li><a href="#covariance-and-variance-of-sums-of-random-variables" id="toc-covariance-and-variance-of-sums-of-random-variables" class="nav-link" data-scroll-target="#covariance-and-variance-of-sums-of-random-variables"><span class="header-section-number">4.7</span> Covariance and variance of sums of random variables</a></li>
  <li><a href="#moment-generating-functions" id="toc-moment-generating-functions" class="nav-link" data-scroll-target="#moment-generating-functions"><span class="header-section-number">4.8</span> Moment generating functions</a></li>
  <li><a href="#chebyshevs-inequality-and-the-weak-law-of-large-numbers" id="toc-chebyshevs-inequality-and-the-weak-law-of-large-numbers" class="nav-link" data-scroll-target="#chebyshevs-inequality-and-the-weak-law-of-large-numbers"><span class="header-section-number">4.9</span> Chebyshev’s inequality and the weak law of large numbers</a></li>
  <li><a href="#problems" id="toc-problems" class="nav-link" data-scroll-target="#problems">Problems</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/wangwei1237/introduction_to_probability_and_statistics/edit/main/chapter_4/4.qmd" class="toc-action"><i class="bi bi-github"></i>编辑该页面</a></li><li><a href="https://github.com/wangwei1237/introduction_to_probability_and_statistics/issues/new" class="toc-action"><i class="bi empty"></i>报告问题</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-4" class="quarto-section-identifier"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">随机变量和期望</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="随机变量" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="随机变量"><span class="header-section-number">4.1</span> 随机变量</h2>
<p>当执行随机实验时，我们并不总是对实验结果的全部细节都感兴趣，我们仅对由结果确定的某些 <strong>数值量</strong>（<em>numerical quantity</em>）的值感兴趣。例如，在抛骰子时，对于每个骰子的点数而言，我们并不感兴趣；我们通常对两个骰子的点数之和感兴趣。也就是说，我们可能想知道点数总和是 7 的情况，而并不关心实际结果是否是：（1, 6）、（2, 5）、（3, 4）、（4, 3）、（5, 2）、（6, 1）。此外，对于土木工程师而言，他们可能不关心水库水位的日常涨落（我们可以将水库水位的日常涨落数据视为实验结果），他们只关心雨季结束时的水位。由实验结果确定的我们感兴趣的这些 <strong>量化指标</strong>（<em>quantities</em>），我们称为 <strong>随机变量</strong>（<em>random variables</em>）。</p>
<p>因为 <strong>随机变量</strong> 的值是由实验结果确定的，因此，对于 <strong>随机变量</strong> 的可能的值，我们可以对其给与概率赋值。</p>
<div id="exm-4_1_a" class="theorem example">
<p><span class="theorem-title"><strong>例子 4.1</strong></span> 令 <span class="math inline">\(X\)</span> 表示随机变量：抛 2 个骰子的点数之和，则：</p>
<p><span id="eq-4_1_001"><span class="math display">\[
\begin{align}
P\{X=2\} &amp;= P(\{(1,1)\}) = \frac{1}{36} \\
P\{X=3\} &amp;= P(\{(1,2), (2,1)\}) = \frac{2}{36} \\
P\{X=4\} &amp;= P(\{(1,3), (2,2), (3,1)\}) = \frac{3}{36} \\
P\{X=5\} &amp;= P(\{(1,4), (2,3), (3,2), (4,1)\}) = \frac{4}{36} \\
P\{X=6\} &amp;= P(\{(1,5), (2,4), (3,3), (4,2), (5,1)\}) = \frac{5}{36} \\
P\{X=7\} &amp;= P(\{(1,6), (2,5), (3,4), (4,3), (5,2), (6,1)\}) = \frac{6}{36} \\
P\{X=8\} &amp;= P(\{(2,6), (3,5), (4,4), (5,3), (6,2)\}) = \frac{5}{36} \\
P\{X=9\} &amp;= P(\{(3,6), (4,5), (5,4), (6,3)\}) = \frac{4}{36} \\
P\{X=10\} &amp;= P(\{(4,6), (5,5), (6,4)\}) = \frac{3}{36} \\
P\{X=11\} &amp;= P(\{(5,6), (6,5)\}) = \frac{2}{36} \\
P\{X=12\} &amp;= P(\{(6,6)\}) = \frac{1}{36}
\end{align}
\tag{4.1}\]</span></span></p>
</div>
<p>换句话说，随机变量 <span class="math inline">\(X\)</span> 的取值为 2~12 之间的任何整数值，其每个取值的概率由 <a href="#eq-4_1_001" class="quarto-xref">方程式&nbsp;<span>4.1</span></a> 给出。由于 <span class="math inline">\(X\)</span> 必须为某个取值，因此我们必有：</p>
<p><span id="eq-4_1_002"><span class="math display">\[
1 = P(S) = P\Bigg( \bigcup_{i=2}^{12}{\{X=i\}} \Bigg) = \sum_{i=2}^{12}{P\{X=i\}}
\tag{4.2}\]</span></span></p>
<p>利用 <a href="#eq-4_1_001" class="quarto-xref">方程式&nbsp;<span>4.1</span></a> 可以非常简单的验证 <a href="#eq-4_1_002" class="quarto-xref">方程式&nbsp;<span>4.2</span></a>。</p>
<p>在这个实验中，我们感兴趣的另一个 <strong>随机变量</strong> 是第一个骰子的点数。令 <span class="math inline">\(Y\)</span> 表示 <strong>随机变量</strong>：抛两个骰子时第一个骰子的点数。则 <span class="math inline">\(Y\)</span> 的取值为 1~6 之间的任何值。也就是说：</p>
<p><span id="eq-4_1_003"><span class="math display">\[
P\{Y=i\} = \frac{1}{6}, i=1,2,3,4,5,6 \quad \blacksquare
\tag{4.3}\]</span></span></p>
<div id="exm-4_1_b" class="theorem example">
<p><span class="theorem-title"><strong>例子 4.2</strong></span> 假设一个人购买了两个电子元器件，每个电子元器件或者有缺陷（用 <em>d</em> 表示）或者没有缺陷（用 <em>a</em> 表示）。则这两个电子元器件有四种可能的结果：(d, d)、(d, a)、(a, d)、(a, a)，<strong>假设</strong>这四种结果的概率分别为：0.09、0.21、0.21、0.49（其中 (d, d) 表示两个元器件都有缺陷，(d, a) 表示第一个元器件有缺陷、第二个元件没有缺陷，依此类推）。</p>
</div>
<p>我们令 <span class="math inline">\(X\)</span> 表示购买的两个电子元器件中没有缺陷的元器件数量，那么 <span class="math inline">\(X\)</span> 是一个 <strong>随机变量</strong>，且其取值为 0、1、2 中的一个：</p>
<p><span id="eq-4_1_004"><span class="math display">\[
\begin{align}
P\{X=0\} &amp;= 0.09 \\
P\{X=1\} &amp;= 0.42 \\
P\{X=2\} &amp;= 0.49
\end{align}
\tag{4.4}\]</span></span></p>
<p>如果我们主要关注这两个电子元器件是否至少有一个没有缺陷，则我们可以对 <strong>随机变量</strong> <span class="math inline">\(I\)</span> 作如下定义：</p>
<p><span id="eq-4_1_005"><span class="math display">\[
I = \begin{cases}
1, \quad &amp; if \ X=1, 2 \\
0, \quad &amp; if \ X=0
\end{cases}
\tag{4.5}\]</span></span></p>
<p>如果 <span class="math inline">\(A\)</span> 表示事件：至少一个元器件没有缺陷，则根据 <span class="math inline">\(A\)</span> 是否发生，<span class="math inline">\(I\)</span> 将等于 1 或 0。因此，我们称 <strong>随机变量</strong> <span class="math inline">\(I\)</span> 为 <strong>事件</strong> <span class="math inline">\(A\)</span> 的 <strong>指示随机变量</strong>（<em>indicator random variable</em>）。<span class="math inline">\(I\)</span> 的可能取值的概率为：</p>
<p><span id="eq-4_1_006"><span class="math display">\[
\begin{align}
&amp;P\{I=1\}=0.91 \\
&amp;P\{I=0\}=0.09 \qquad \blacksquare
\end{align}
\tag{4.6}\]</span></span></p>
<p>在 <a href="#exm-4_1_a" class="quarto-xref">例子&nbsp;<span>4.1</span></a> 和 <a href="#exm-4_1_b" class="quarto-xref">例子&nbsp;<span>4.2</span></a> 这两个例子中，我们感兴趣的 <strong>随机变量</strong> 的可能取值的数量是有限的。对于那些取值可以写成有限序列 <span class="math inline">\(x_1,..., x_n\)</span> 或者无限序列 <span class="math inline">\(x_1,...\)</span> 的 <strong>随机变量</strong> 称为 <strong>离散随机变量</strong>（<em>discrete random variables</em>）。例如，一个取值集合为非负整数的 <strong>随机变量</strong> 就是 <strong>离散随机变量</strong>。然而，也存在取值为连续数值的 <strong>随机变量</strong>，我们称这种 <strong>随机变量</strong> 为 <strong>连续随机变量</strong>（<em>continous random variables</em>）。例如，假定汽车的寿命位于某个区间 <span class="math inline">\((a,b)\)</span> 时，表示汽车寿命的 <strong>随机变量</strong> 就是 <strong>连续随机变量</strong>。</p>
<p><strong>随机变量</strong> <span class="math inline">\(X\)</span> 的累积分布函数（<em>cumulative distribution function</em>）<span class="math inline">\(F\)</span> 的定义如下：</p>
<p><span id="eq-4_1_007"><span class="math display">\[
F(x) = P\{X \le x\}
\tag{4.7}\]</span></span></p>
<p>也就是说，<span class="math inline">\(F(x)\)</span> 是 <strong>随机变量</strong> <span class="math inline">\(X\)</span> 取值小于或等于 <span class="math inline">\(x\)</span> 的概率。</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
注释
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>随机变量</strong> 的累积分布函数也可简称为 <strong>分布函数</strong>（<em>distribution function</em>）。</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
提示
</div>
</div>
<div class="callout-body-container callout-body">
<p>我们将使用 <span class="math inline">\(X \thicksim F\)</span> 来表示 <span class="math inline">\(F\)</span> 是 <strong>随机变量</strong> <span class="math inline">\(X\)</span> 的分布函数。</p>
</div>
</div>
<p>我们可以用 <strong>随机变量</strong> <span class="math inline">\(X\)</span> 的分布函数 <span class="math inline">\(F\)</span> 来回答所有关于 <span class="math inline">\(X\)</span> 的概率问题。例如，假如我们想计算 <span class="math inline">\(P\{a \lt X \le b\}\)</span>。要计算该概率，我们首先注意到 <strong>事件</strong> <span class="math inline">\({X \le b}\)</span> 可以表示为两个 <strong>互斥事件</strong> <span class="math inline">\({X \le a}\)</span> 和 <span class="math inline">\({a \lt X \le b}\)</span> 的并集。因此，根据 <strong>公理3</strong>（<a href="../chapter_3/3.html#sec-3_4" class="quarto-xref"><span>章节 3.4</span></a>），我们得到：</p>
<p><span id="eq-4_1_008"><span class="math display">\[
\begin{align}
P\{X \le b\}&amp;=P\{X \le a\} + P\{a \lt X \le b\} \\
\therefore P\{a \lt X \le b\} &amp;= F(b) - F(a)
\end{align}
\tag{4.8}\]</span></span></p>
<div id="exr-4_1_c" class="theorem exercise">
<p><span class="theorem-title"><strong>练习 4.1</strong></span> 假设 <strong>随机变量</strong> <span class="math inline">\(X\)</span> 的分布函数为：</p>
<p><span class="math display">\[
F(x) = \begin{cases}
0, \quad &amp; x \le 0 \\
1-e^{-x^2}, \quad &amp; x \gt 0
\end{cases}
\]</span></p>
<p>计算 <span class="math inline">\(P\{X \gt 1\}\)</span>？</p>
</div>
<div id="sol-4_1_c" class="proof solution">
<p><span class="proof-title"><em>答案 4.1</em>. </span><span class="math display">\[
\begin{align}
P\{X \gt 1\} &amp;= 1 - P\{X \le 1\} \\
&amp;= 1 - F(1) \\
&amp;= e^{-1} \\
&amp;= 0.368 \qquad \blacksquare
\end{align}
\]</span></p>
</div>
</section>
<section id="随机变量的类型" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="随机变量的类型"><span class="header-section-number">4.2</span> 随机变量的类型</h2>
<p>如前所述，取值为一个序列集的 <strong>随机变量</strong> 称为 <strong>离散随机变量</strong>。对于 <strong>离散随机变量</strong> <span class="math inline">\(X\)</span>，我们定义其 <strong>概率质量函数</strong> <span class="math inline">\(p(a)\)</span>（<em>probability mass function</em>）为：</p>
<p><span id="eq-4_2_001"><span class="math display">\[
p(a) = P\{X=a\}
\tag{4.9}\]</span></span></p>
<p>对于 <span class="math inline">\(a\)</span> 的可数个取值，其 <strong>概率质量函数</strong> <span class="math inline">\(p(a)\)</span> 为正数。也就是说，如果 <span class="math inline">\(X\)</span> 的取值必须为 <span class="math inline">\(x_1,x_2,...,x_n\)</span>，则 <span class="math inline">\(p(x_i) \gt 0\)</span>，<span class="math inline">\(i=1,2,...\)</span>；对于其他的取值，<span class="math inline">\(p(x)=0\)</span>。</p>
<p>因为 <span class="math inline">\(X\)</span> 必须为 <span class="math inline">\(x_i\)</span> 中的某个值，所以 <span class="math inline">\(\sum_{i=1}^{\infty}{p(x_i)}=1\)</span>。</p>
<div id="exm-4_2_a" class="theorem example">
<p><span class="theorem-title"><strong>例子 4.3</strong></span> <strong>随机变量</strong> <span class="math inline">\(X\)</span> = 1，2，3，如果已知：<span class="math inline">\(p(1)=\frac{1}{2}\)</span>，<span class="math inline">\(p(2)=\frac{1}{3}\)</span>，则 <span class="math inline">\(p(3)=\frac{1}{6}\)</span>。<span class="math inline">\(p(x)\)</span> 的线图如 <a href="#fig-4_1" class="quarto-xref">图&nbsp;<span>4.1</span></a>。 <span class="math inline">\(\blacksquare\)</span></p>
</div>
<div class="cell">
<details class="code-fold">
<summary>代码</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">6</span>),</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">start =</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">3</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>value <span class="ot">&lt;-</span> <span class="fu">factor</span>(df<span class="sc">$</span>value, <span class="at">levels =</span> df<span class="sc">$</span>value, <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> start, <span class="at">yend =</span> p, <span class="at">color =</span> value)) <span class="sc">+</span>  </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span>                    <span class="co"># 绘制水平线表示每个“条形”  </span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> p), <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span>          <span class="co"># 在每个“条形”的末端添加点  </span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span>  </span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"x"</span>, <span class="at">y =</span> <span class="st">"p(x)"</span>) <span class="sc">+</span>  </span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.1</span>)) <span class="sc">+</span>  </span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)           <span class="co"># 调整图例位置</span></span></code><button title="复制到剪贴板" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-4_1" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-4_1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="4_files/figure-html/fig-4_1-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-4_1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
图&nbsp;4.1: <span class="math inline">\(p(x)\)</span> 的线图，<a href="#exm-4_2_a" class="quarto-xref">例子&nbsp;<span>4.3</span></a>
</figcaption>
</figure>
</div>
</div>
</div>
<p>可以使用 <span class="math inline">\(p(x)\)</span> 来表示 <strong>随机变量</strong> <span class="math inline">\(X\)</span> 的累积分布函数 <span class="math inline">\(F\)</span>：</p>
<p><span id="eq-4_2_002"><span class="math display">\[
F(a) = \sum_{all \ x \le a}{p(x)}
\tag{4.10}\]</span></span></p>
<p>如果 <span class="math inline">\(X\)</span> 是一个离散随机变量，其可能的取值是 <span class="math inline">\(x_1,x_2,x_3,...\)</span>，其中 <span class="math inline">\(x_1&lt;x_2&lt;x_3&lt;...\)</span>，那么 <span class="math inline">\(X\)</span> 的分布函数 <span class="math inline">\(F\)</span> 是一个阶跃函数（<em>step function</em>）。也就是说，<span class="math inline">\(F\)</span> 的值在区间 <span class="math inline">\([x_{i−1},x_i)\)</span> 是恒定的，然后在 <span class="math inline">\(x_i\)</span> 处有大小为 <span class="math inline">\(p(x_i)\)</span> 的跃变。</p>
<p>例如，假设 <span class="math inline">\(X\)</span> 的概率质量函数（如 <a href="#exm-4_2_a" class="quarto-xref">例子&nbsp;<span>4.3</span></a>）为：<span class="math inline">\(p(1)=\frac{1}{2}\)</span>，<span class="math inline">\(p(2)=\frac{1}{3}\)</span>，<span class="math inline">\(p(3)=\frac{1}{6}\)</span>。则 <span class="math inline">\(X\)</span> 的累积分布函数 <span class="math inline">\(F\)</span> 为：</p>
<p><span id="eq-4_2_003"><span class="math display">\[
F(a) = \begin{cases}
0, \quad &amp; a \lt 1 \\
\frac{1}{2}, \quad &amp; 1 \le a \lt 2 \\
\frac{5}{6}, \quad &amp; 2 \le a \lt 3 \\
1, \quad &amp; 3 \le a
\end{cases}
\tag{4.11}\]</span></span></p>
<p><a href="#eq-4_2_003" class="quarto-xref">方程式&nbsp;<span>4.11</span></a> 如 <a href="#fig-4_2" class="quarto-xref">图&nbsp;<span>4.2</span></a> 所示。</p>
<div class="cell">
<details class="code-fold">
<summary>代码</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">p =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">6</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>cpf <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(df<span class="sc">$</span>p)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">4</span>),</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">cpf =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, df<span class="sc">$</span>cpf[<span class="dv">1</span>], df<span class="sc">$</span>cpf[<span class="dv">1</span>], df<span class="sc">$</span>cpf[<span class="dv">2</span>], df<span class="sc">$</span>cpf[<span class="dv">2</span>], df<span class="sc">$</span>cpf[<span class="dv">3</span>], df<span class="sc">$</span>cpf[<span class="dv">3</span>])</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">#df1$value &lt;- factor(df$value, levels = df$value, ordered = TRUE)</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df1, <span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> cpf)) <span class="sc">+</span>  </span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"x"</span>, <span class="at">y =</span> <span class="st">"F(x)"</span>) <span class="sc">+</span>  </span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="at">by =</span> <span class="fl">0.1</span>)) <span class="sc">+</span>  </span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)           <span class="co"># 调整图例位置</span></span></code><button title="复制到剪贴板" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-4_2" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-4_2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="4_files/figure-html/fig-4_2-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-4_2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
图&nbsp;4.2: <span class="math inline">\(F(x)\)</span> 的折线图
</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>离散随机变量</strong> 的可能取值是一个序列集合，但是我们通常必须考虑那些取值是一个区间的 <strong>随机变量</strong>。假设 <span class="math inline">\(X\)</span> 为一个取值是一个区间的 <strong>随机变量</strong>。如果存在一个定义域为所有实数 <span class="math inline">\(x \in (−\infty, \infty)\)</span> 的非负函数 <span class="math inline">\(f(x)\)</span>，且对于任意实数集 <span class="math inline">\(B\)</span>，<span class="math inline">\(f(x)\)</span> 都满足：</p>
<p><span id="eq-4_2_004"><span class="math display">\[
P\{X \in B\} = \int_{B}{f(x)dx}
\tag{4.12}\]</span></span></p>
<p>则我们称 <span class="math inline">\(X\)</span> 是一个 <strong>连续随机变量</strong>（<em>continous random variable</em>），而函数 <span class="math inline">\(f(x)\)</span> 为 <strong>随机变量</strong> <span class="math inline">\(X\)</span> 的 <strong>概率密度函数</strong>（<em>probability density function</em>）。</p>
<p>换句话说，<a href="#eq-4_2_004" class="quarto-xref">方程式&nbsp;<span>4.12</span></a> 指出，对集合 <span class="math inline">\(B\)</span> 上的概率密度函数进行积分运算可以得到 <span class="math inline">\(X\)</span> 在 <span class="math inline">\(B\)</span> 中的概率。由于 <span class="math inline">\(X\)</span> 必须为某个值，所以 <span class="math inline">\(f(x)\)</span> 必须满足：</p>
<p><span id="eq-4_2_005"><span class="math display">\[
1 = P\{X \in (-\infty, \infty)\} = \int_{-\infty}^{\infty}{f(x)dx}
\tag{4.13}\]</span></span></p>
<p>概率密度函数 <span class="math inline">\(f(x)\)</span> 可以用于回答所有关于 <strong>随机变量</strong> <span class="math inline">\(X\)</span> 的概率问题，例如，令 <span class="math inline">\(B=[a,b]\)</span>，根据 <a href="#eq-4_2_004" class="quarto-xref">方程式&nbsp;<span>4.12</span></a>，我们有：</p>
<p><span id="eq-4_2_006"><span class="math display">\[
P\{a \le X \le b\}=\int_{a}^{b}{f(x)dx}
\tag{4.14}\]</span></span></p>
<p>在 <a href="#eq-4_2_006" class="quarto-xref">方程式&nbsp;<span>4.14</span></a> 中，如果令 <span class="math inline">\(a=b\)</span>，则：</p>
<p><span id="eq-4_2_007"><span class="math display">\[
P\{X=a\}=\int_{a}^{a}{f(x)dx} = 0
\tag{4.15}\]</span></span></p>
<p>换句话说，对于 <strong>连续随机变量</strong> 而言，其取值为某个特殊值的概率为 0，如 <a href="#fig-4_3" class="quarto-xref">图&nbsp;<span>4.3</span></a> 所示。</p>
<div class="cell">
<details class="code-fold">
<summary>代码</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="fl">0.1</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">exp</span>(<span class="sc">-</span>x)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x=</span>x, <span class="at">y=</span>y)) <span class="sc">+</span> </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span> </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">x=</span><span class="dv">1</span>, <span class="at">y=</span><span class="fu">exp</span>(<span class="sc">-</span><span class="dv">1</span>), <span class="at">xend=</span><span class="dv">1</span>, <span class="at">yend=</span><span class="dv">0</span>) <span class="sc">+</span> </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">x=</span><span class="dv">3</span>, <span class="at">y=</span><span class="fu">exp</span>(<span class="sc">-</span><span class="dv">3</span>), <span class="at">xend=</span><span class="dv">3</span>, <span class="at">yend=</span><span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="at">data =</span> <span class="fu">subset</span>(df, x <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> x <span class="sc">&lt;=</span> <span class="dv">3</span>), <span class="fu">aes</span>(<span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> y), <span class="at">fill =</span> <span class="st">"gray"</span>) <span class="sc">+</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">1</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.02</span>, <span class="at">label =</span> <span class="st">"a"</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">3</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.02</span>, <span class="at">label =</span> <span class="st">"b"</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span> </span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="fl">2.2</span>, <span class="at">y =</span> <span class="fl">0.05</span>, <span class="at">label =</span> <span class="st">"P{a&lt;X&lt;b}"</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">vjust =</span> <span class="dv">0</span>, <span class="at">size =</span> <span class="dv">5</span>)  </span></code><button title="复制到剪贴板" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="fig-4_3" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-4_3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="4_files/figure-html/fig-4_3-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-4_3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
图&nbsp;4.3: 概率密度函数 <span class="math inline">\(f(x)=\begin{cases} e^{-x}, \quad &amp; x \ge 0 \\ 0, \quad &amp; x \lt 0 \end{cases}\)</span>
</figcaption>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
注释
</div>
</div>
<div class="callout-body-container callout-body">
<p>连续随机变量的概率是其密度函数 <span class="math inline">\(f(x)\)</span> 在某个区间上积分的结果，因此对于某个特殊的取值，其结果必然为 0。</p>
</div>
</div>
<p>累积分布函数 <span class="math inline">\(F(\cdot)\)</span> 和概率密度函数 <span class="math inline">\(f(\cdot)\)</span> 之间的关系如下所示：</p>
<p><span id="eq-4_2_008"><span class="math display">\[
\begin{align}
F(a)&amp;=P\{X \in (-\infty,a]\} = \int_{-\infty}^{a}{f(x)dx} \\
两边&amp;求微分得：\\
\frac{dF(a)}{da}&amp;=f(a)
\end{align}
\tag{4.16}\]</span></span></p>
<p>也就是说，概率密度函数是累积分布函数的导数。根据 <a href="#eq-4_2_006" class="quarto-xref">方程式&nbsp;<span>4.14</span></a>，概率密度函数的更直观的解释如下：</p>
<p><span id="eq-4_2_009"><span class="math display">\[
P\{a - \frac{\varepsilon}{2} \le X \le a + \frac{\varepsilon}{2}\} = \int_{a-\frac{\varepsilon}{2}}^{a+\frac{\varepsilon}{2}}{f(x)dx} \approx \varepsilon f(a)
\tag{4.17}\]</span></span></p>
<p>其中，<span class="math inline">\(\varepsilon\)</span> 是一个非常小的数。也就是说，<span class="math inline">\(X\)</span> 的取值位于区间 <span class="math inline">\([a - \frac{\varepsilon}{2},a + \frac{\varepsilon}{2}]\)</span> 内时的概率大约为 <span class="math inline">\(\varepsilon f(a)\)</span>。由此，我们可以看出，<span class="math inline">\(f(a)\)</span> 是对随机变量 <span class="math inline">\(X\)</span> 的取值接近 <span class="math inline">\(a\)</span> 的可能性大小的一种度量。</p>
<div id="exr-4_2_b" class="theorem exercise">
<p><span class="theorem-title"><strong>练习 4.2</strong></span> 假设 <span class="math inline">\(X\)</span> 是一个连续随机变量，其概率密度函数为：</p>
<p><span class="math display">\[
f(x)=\begin{cases}
C(4x - 2x^2), \quad &amp;0 \lt x \lt 2 \\
0, \quad &amp;其它
\end{cases}
\]</span></p>
<p>则：</p>
<ul>
<li>计算 <span class="math inline">\(C\)</span> 的值？</li>
<li>计算 <span class="math inline">\(P\{X \gt 1\}\)</span>？</li>
</ul>
</div>
<div id="sol-4_2_b" class="proof solution">
<p><span class="proof-title"><em>答案 4.2</em>. </span>因为 <span class="math inline">\(f(x)\)</span> 是一个概率密度函数，因此必有：<span class="math inline">\(\int_{-\infty}^{\infty}{f(x)dx}=1\)</span>。因此，有：</p>
<p><span class="math display">\[
\begin{align}
C\int_0^2{(4x-2x^2)dx} &amp;=1 \\
C\bigg(2x^2-\frac{2}{3}x^3\bigg)\Bigg|_{x=0}^{x=2} &amp;= 1
\end{align}
\]</span></p>
<p>所以，<span class="math inline">\(C = \frac{3}{8}\)</span>。所以，<span class="math inline">\(P\{X \gt 1\}=\int_{1}^{\infty}{f(x)dx}=\frac{3}{8}\int_1^2{(4x-2x^2)dx}=\frac{1}{2}\)</span>。 <span class="math inline">\(\blacksquare\)</span></p>
</div>
</section>
<section id="联合分布" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="联合分布"><span class="header-section-number">4.3</span> 联合分布</h2>
<p>对于一个给定的实验，我们不仅对单个 <strong>随机变量</strong> 的概率分布函数感兴趣；对两个或多个 <strong>随机变量</strong> 之间的关系，我们同样感兴趣。例如，在一项关于癌症可能原因的实验中，我们可能对每天平均吸烟数量与个体患癌症年龄之间的关系感兴趣。同样，工程师可能对钢板样品的抗剪强度和点焊直径之间的关系感兴趣。</p>
<p>为了描述两个 <strong>随机变量</strong> 之间的关系，我们定义 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 的联合累积概率分布函数（<em>joint cumulative probability distribution function</em>）：</p>
<p><span id="eq-4_3_001"><span class="math display">\[
F(x,y) = P\{X \le x,Y \le y\}
\tag{4.18}\]</span></span></p>
<p>至少在理论上，可以根据联合概率分布函数来计算任何关于 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 的概率。例如，可以从 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 的联合分布函数 <span class="math inline">\(F\)</span> 中得到 <span class="math inline">\(X\)</span> 的分布函数 <span class="math inline">\(F_X\)</span>：</p>
<p><span id="eq-4_3_002"><span class="math display">\[
\begin{align}
F_X(x) &amp;= P\{X \le x\} \\
&amp;= P\{X \le x, Y \le \infty \} \\
&amp;= F(x, \infty)
\end{align}
\tag{4.19}\]</span></span></p>
<p>同理，<span class="math inline">\(Y\)</span> 的累积分布函数为 <span class="math inline">\(F_Y(y) = F(\infty, y)\)</span>。</p>
<p>如果 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 都是 <strong>离散随机变量</strong>，且其可能的取值分别为：<span class="math inline">\(x_1, x_2, ...\)</span> 和 <span class="math inline">\(y_1, y_2, ...\)</span>，定义 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 的联合概率质量函数（<em>joint probability mass function</em>）<span class="math inline">\(p(x_i, y_j)\)</span> 为：</p>
<p><span id="eq-4_3_003"><span class="math display">\[
p(x_i, y_j) = P\{X = x_i, Y = y_j\}
\tag{4.20}\]</span></span></p>
<p>由于 <span class="math inline">\(Y\)</span> 必须取某个值 <span class="math inline">\(y_j\)</span>，并且所有的 <span class="math inline">\(y_j\)</span> 之间都是 <strong>互斥事件</strong>，因此 <strong>事件</strong> <span class="math inline">\(\{X = x_i\}\)</span> 可以写作 <span class="math inline">\(\{X = x_i, Y = Y_j\}\)</span> 在所有 <span class="math inline">\(j\)</span> 上的并集。即：</p>
<p><span id="eq-4_3_004"><span class="math display">\[
\{X = x_i\} = \bigcup_{all\ j}{\{X = x_i, Y = y_j\}}
\tag{4.21}\]</span></span></p>
<p>根据 <strong>公理3</strong>（<a href="../chapter_3/3.html#sec-3_4" class="quarto-xref"><span>章节 3.4</span></a>），有：</p>
<p><span id="eq-4_3_005"><span class="math display">\[
\begin{align}
P\{X = x_i\} &amp;= P\bigg(\bigcup_{all\ j}{\{X = x_i, Y = y_j\}}\bigg) \\
&amp;= \sum_{all \ j}{P\{X = x_i, Y = y_j\}} \\
&amp;= \sum_{all \ j}{p(x_i, y_j)}
\end{align}
\tag{4.22}\]</span></span></p>
<p>同理，我们可以得到 <span class="math inline">\(P\{Y = y_j\}\)</span>：</p>
<p><span id="eq-4_3_006"><span class="math display">\[
\begin{align}
P\{Y = y_i\} &amp;= \sum_{all \ i}{P\{X = x_i, Y = y_j\}} \\
&amp;= \sum_{all \ i}{p(x_i, y_j)}
\end{align}
\tag{4.23}\]</span></span></p>
<p>因此，<strong>随机变量</strong> 的联合概率质量函数总是可以决定单个 <strong>随机变量</strong> 的概率质量函数。然而，需要注意的是：反之，并不成立。即，即便知道 <span class="math inline">\(P\{X = x_i\}\)</span> 和 <span class="math inline">\(P\{Y = y_j\}\)</span> 的值也不能决定 <span class="math inline">\(P\{X = x_i, Y = y_j\}\)</span> 的值。</p>
<div id="exm-4_3_a" class="theorem example">
<p><span class="theorem-title"><strong>例子 4.4</strong></span> 假设共有 12 块电池，其中包含 3 块新电池、4 块用过的但还有电量的电池、5 块没有电量的电池。现在，我们从这 12 块电池中随机抽取 3 块。令 <span class="math inline">\(X\)</span> 为抽取的电池中的新电池的数量，令 <span class="math inline">\(Y\)</span> 为抽取的电池中用过但还有电量的电池的数量。则 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 的联合概率质量函数 <span class="math inline">\(p(i, j) = P\{X = i, Y = j\}\)</span> 为：</p>
<p><span class="math display">\[
p(i, j) = \frac{\left(\begin{array}{cc}  3 \\ i  \end{array}\right) \left(\begin{array}{cc}  4 \\ j  \end{array}\right) \left(\begin{array}{cc}  5 \\ 3 - i -j  \end{array}\right) }{\left(\begin{array}{cc}  12 \\ 3  \end{array}\right)}
\]</span></p>
<p>从 12 块电池里随机抽取 3 块电池的抽取方式为 <span class="math inline">\(\left(\begin{array}{cc}  12 \\ 3  \end{array}\right)\)</span>。根据 <a href="../chapter_3/3.html#sec-3_5_1" class="quarto-xref"><span>章节 3.5.1</span></a> 中的 <strong>计数基本原理</strong>，抽取的 3 块电池中恰好有 <span class="math inline">\(i\)</span> 块新电池、<span class="math inline">\(j\)</span> 块用过但还有电量的电池、<span class="math inline">\(3 - i - j\)</span> 块没有电量的电池的抽取方式为 <span class="math inline">\(\left(\begin{array}{cc}  3 \\ i  \end{array}\right) \left(\begin{array}{cc}  4 \\ j  \end{array}\right) \left(\begin{array}{cc}  5 \\ 3 - i -j  \end{array}\right)\)</span>。因此：</p>
<p><span class="math display">\[
\begin{align}
p(0, 0) &amp;= \frac{\left(\begin{array}{cc}  5 \\ 3  \end{array}\right)}{\left(\begin{array}{cc}  12 \\ 3  \end{array}\right)} = \frac{10}{220} \\
p(0, 1) &amp;= \frac{\left(\begin{array}{cc}  4 \\ 1  \end{array}\right) \left(\begin{array}{cc}  5 \\ 2  \end{array}\right)}{\left(\begin{array}{cc}  12 \\ 3  \end{array}\right)} = \frac{40}{220} \\
p(0, 2) &amp;= \frac{\left(\begin{array}{cc}  4 \\ 2  \end{array}\right) \left(\begin{array}{cc}  5 \\ 1  \end{array}\right)}{\left(\begin{array}{cc}  12 \\ 3  \end{array}\right)} = \frac{30}{220} \\
p(0, 3) &amp;= \frac{\left(\begin{array}{cc}  4 \\ 3  \end{array}\right)}{\left(\begin{array}{cc}  12 \\ 3  \end{array}\right)} = \frac{4}{220} \\
p(1, 0) &amp;= \frac{\left(\begin{array}{cc}  3 \\ 1  \end{array}\right) \left(\begin{array}{cc}  5 \\ 2  \end{array}\right)}{\left(\begin{array}{cc}  12 \\ 3  \end{array}\right)} = \frac{30}{220} \\
p(1, 1) &amp;= \frac{\left(\begin{array}{cc}  3 \\ 1  \end{array}\right) \left(\begin{array}{cc}  4 \\ 1  \end{array}\right) \left(\begin{array}{cc}  5 \\ 1  \end{array}\right)}{\left(\begin{array}{cc}  12 \\ 3  \end{array}\right)} = \frac{60}{220} \\
p(1, 2) &amp;= \frac{\left(\begin{array}{cc}  3 \\ 1  \end{array}\right) \left(\begin{array}{cc}  4 \\ 2  \end{array}\right)}{\left(\begin{array}{cc}  12 \\ 3  \end{array}\right)} = \frac{18}{220} \\
p(2, 0) &amp;= \frac{\left(\begin{array}{cc}  3 \\ 2  \end{array}\right) \left(\begin{array}{cc}  5 \\ 1  \end{array}\right)}{\left(\begin{array}{cc}  12 \\ 3  \end{array}\right)} = \frac{15}{220} \\
p(2, 1) &amp;= \frac{\left(\begin{array}{cc}  3 \\ 2  \end{array}\right) \left(\begin{array}{cc}  4 \\ 1  \end{array}\right)}{\left(\begin{array}{cc}  12 \\ 3  \end{array}\right)} = \frac{12}{220} \\
p(3, 0) &amp;= \frac{\left(\begin{array}{cc}  3 \\ 3  \end{array}\right)}{\left(\begin{array}{cc}  12 \\ 3  \end{array}\right)} = \frac{1}{220}
\end{align}
\]</span></p>
<p>可以通过 <a href="#tbl-4_1" class="quarto-xref">表格&nbsp;<span>4.1</span></a> 的表格格式来更简单的表示如上的概率。</p>
<div id="tbl-4_1" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-4_1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
表格&nbsp;4.1: <span class="math inline">\(P\{X=i, Y=j\}\)</span>
</figcaption>
<div aria-describedby="tbl-4_1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<colgroup>
<col style="width: 20%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">\(j\)</span> = 0</th>
<th style="text-align: left;"><span class="math inline">\(j\)</span> = 1</th>
<th style="text-align: left;"><span class="math inline">\(j\)</span> = 2</th>
<th style="text-align: left;"><span class="math inline">\(j\)</span> = 3</th>
<th style="text-align: left;"><span class="math inline">\(P\{X = i\}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(i\)</span> = 0</td>
<td><span class="math inline">\(\frac{10}{220}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\frac{40}{220}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\frac{30}{220}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\frac{4}{220}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\frac{84}{220}\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(i\)</span> = 1</td>
<td><span class="math inline">\(\frac{30}{220}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\frac{60}{220}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\frac{10}{220}\)</span></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;"><span class="math inline">\(\frac{108}{220}\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(i\)</span> = 2</td>
<td><span class="math inline">\(\frac{15}{220}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\frac{12}{220}\)</span></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;"><span class="math inline">\(\frac{27}{220}\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(i\)</span> = 3</td>
<td><span class="math inline">\(\frac{1}{220}\)</span></td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;"><span class="math inline">\(\frac{1}{220}\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(P\{Y = j\}\)</span></td>
<td><span class="math inline">\(\frac{56}{220}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\frac{112}{220}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\frac{48}{220}\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\frac{4}{220}\)</span></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>读者应该注意，通过计算行的和所得到的 <span class="math inline">\(X\)</span> 的概率质量函数和 <a href="#eq-4_3_005" class="quarto-xref">方程式&nbsp;<span>4.22</span></a> 的结果是一致的；同时，通过计算列的和所得到的 <span class="math inline">\(Y\)</span> 的概率质量函数和 <a href="#eq-4_3_006" class="quarto-xref">方程式&nbsp;<span>4.23</span></a> 的结果也是一致的。因为 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 的各自的概率质量函数出现在 <a href="#tbl-4_1" class="quarto-xref">表格&nbsp;<span>4.1</span></a> 所示的联合概率分布表的边缘（<em>margin</em>），因此，我们又常常称 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 的各自的概率质量函数为 <strong>边缘概率质量函数</strong>（<em>marginal probability mass function</em>）。应该注意的是，为了检查类似 <a href="#tbl-4_1" class="quarto-xref">表格&nbsp;<span>4.1</span></a> 这样的表的正确性，我们可以对表中的最后一行（或最右一列）求和，并验证其结果是否为 1。（为什么最后一行或最右一列的和必须等于 1？） <span class="math inline">\(\blacksquare\)</span></p>
</div>
<div id="exm-4_3_b" class="theorem example">
<p><span class="theorem-title"><strong>例子 4.5</strong></span> 假设某个社区中，15% 的家庭没有孩子，20% 的家庭有 1 个孩子，35% 的家庭有 2 个孩子，30% 的家庭有 3 个孩子。又假设对于每个家庭而言，每个孩子是男孩或女孩的可能性相等并且独立。</p>
<p>如果从这个社区中随机选择一个家庭，那么这个家庭中男孩的数量 <span class="math inline">\(B\)</span> 和女孩的数量 <span class="math inline">\(G\)</span> 具有 <a href="#tbl-4_2" class="quarto-xref">表格&nbsp;<span>4.2</span></a> 所示的联合概率质量函数。</p>
<div id="tbl-4_2" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-4_2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
表格&nbsp;4.2: <span class="math inline">\(P\{B=i, G=j\}\)</span>
</figcaption>
<div aria-describedby="tbl-4_2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">\(j\)</span> = 0</th>
<th style="text-align: left;"><span class="math inline">\(j\)</span> = 1</th>
<th style="text-align: left;"><span class="math inline">\(j\)</span> = 2</th>
<th style="text-align: left;"><span class="math inline">\(j\)</span> = 3</th>
<th style="text-align: left;"><span class="math inline">\(P\{B = i\}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(i\)</span> = 0</td>
<td>0.15</td>
<td style="text-align: left;">0.10</td>
<td style="text-align: left;">0.0875</td>
<td style="text-align: left;">0.0375</td>
<td style="text-align: left;">0.3750</td>
</tr>
<tr class="even">
<td><span class="math inline">\(i\)</span> = 1</td>
<td>0.10</td>
<td style="text-align: left;">0.175</td>
<td style="text-align: left;">0.1125</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0.3875</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(i\)</span> = 2</td>
<td>0.0875</td>
<td style="text-align: left;">0.1125</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0.2000</td>
</tr>
<tr class="even">
<td><span class="math inline">\(i\)</span> = 3</td>
<td>0.0375</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0.0375</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(P\{G = j\}\)</span></td>
<td>0.3750</td>
<td style="text-align: left;">0.3875</td>
<td style="text-align: left;">0.2000</td>
<td style="text-align: left;">0.0375</td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>于是，我们可以得到如下的概率：</p>
<p><span class="math display">\[
\begin{align}
P\{B=0, G=0\} &amp;= P\{没有孩子\} = 0.20 \cdot \frac{1}{2} = 0.15 \\
P\{B=0, G=1\} &amp;= P\{有 1 个孩子且为女孩\} = 0.35 \cdot (\frac{1}{2})^2 = 0.1 \\
P\{B=0, G=3\} &amp;= P\{有 3 个孩子且都为女孩\} = = 0.30 \cdot (\frac{1}{2})^3 = 0.0375 \\
\end{align}
\]</span></p>
<p>您可以验证 <a href="#tbl-4_2" class="quarto-xref">表格&nbsp;<span>4.2</span></a> 的其余部分，通过 <a href="#tbl-4_2" class="quarto-xref">表格&nbsp;<span>4.2</span></a> 我们可以知道，所选择的家庭至少有一个女孩的概率为 0.625（<span class="math inline">\(1-P\{B=i, G=0\}\)</span>）。<span class="math inline">\(\blacksquare\)</span></p>
</div>
<p><span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 是两个连续 <strong>随机变量</strong>，对于 <span class="math inline">\(x \in (-\infty, \infty)\)</span> 和 <span class="math inline">\(y \in (-\infty, \infty)\)</span>，对于任何一个 <span class="math inline">\(x\)</span> 和 <span class="math inline">\(y\)</span> 构成的 <em>数据对</em> 集合 <span class="math inline">\(C\)</span>（<span class="math inline">\(C\)</span> 是一个二维平面中的集合），如果存在函数 <span class="math inline">\(f(x,y)\)</span>，使得：</p>
<p><span id="eq-4_3_007_433"><span class="math display">\[
P\{(X,Y) \in C\} = \iint_{(x,y) \in C}{f(x,y)dxdy}
\tag{4.24}\]</span></span></p>
<p>我们称 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 是联合连续随机变量，称函数 <span class="math inline">\(f(x,y)\)</span> 为 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 的 <strong>联合概率密度函数</strong>（<em>joint probability density function</em>）。如果令 <span class="math inline">\(A\)</span> 和 <span class="math inline">\(B\)</span> 为两个实数集，并令 <span class="math inline">\(C = \{(x,y): x \in A, y \in B\}\)</span>，则 <a href="#eq-4_3_007_433" class="quarto-xref">方程式&nbsp;<span>4.24</span></a> 可以写作：</p>
<p><span id="eq-4_3_008_434"><span class="math display">\[
P\{X \in A, Y \in B\} = \int_{B} \int_{A} {f(x,y)dxdy}
\tag{4.25}\]</span></span></p>
<p>因为：</p>
<p><span id="eq-4_3_009"><span class="math display">\[
\begin{align}
F(a,b) &amp;= P\{X \in (-\infty, a], Y \in (-\infty, b]\} \\
&amp;= \int_{-\infty}^{b} \int_{-\infty}^{a} {f(x,y)dxdy}
\end{align}
\tag{4.26}\]</span></span></p>
<p>所以，对 <a href="#eq-4_3_009" class="quarto-xref">方程式&nbsp;<span>4.26</span></a> 两边微分得到：</p>
<p><span id="eq-4_3_010"><span class="math display">\[
\frac{\partial^{2}{F(a,b)}}{\partial a \ \partial b} = f(a,b)
\tag{4.27}\]</span></span></p>
<p>也就是说，联合概率密度函数 <span class="math inline">\(f(\cdot)\)</span> 是联合概率分布函数 <span class="math inline">\(F(\cdot)\)</span> 的偏微分。根据 <a href="#eq-4_3_008_434" class="quarto-xref">方程式&nbsp;<span>4.25</span></a>，我们有：</p>
<p><span id="eq-4_3_011"><span class="math display">\[
\begin{align}
P\{a \lt X \lt a + \Delta a, b \lt Y \lt b + \Delta b\} &amp;= \int_{b}^{b + \Delta b} \int_{a}^{a + \Delta a} {f(x,y)dxdy} \\
&amp;\approx f(a,b) \Delta a \Delta b
\end{align}
\tag{4.28}\]</span></span></p>
<p>因为 <span class="math inline">\(\Delta a\)</span> 和 <span class="math inline">\(\Delta b\)</span> 都是非常小的数，并且 <span class="math inline">\(f(x,y)\)</span> 在 <span class="math inline">\((a,b)\)</span> 处是连续的。因此 <span class="math inline">\(f(a,b)\)</span> 是对 <span class="math inline">\((X,Y)\)</span> 靠近 <span class="math inline">\((a,b)\)</span> 的可能性大小的一种度量。</p>
<p>如果 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 是联合连续随机变量，则 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 各自都是连续随机变量，则 <span class="math inline">\(X\)</span> 的概率密度函数为：</p>
<p><span id="eq-4_3_012_435"><span class="math display">\[
\begin{align}
P\{X \in A\} &amp;= P\{X \in A, Y \in (-\infty, \infty)\} \\
&amp;= \int_{A} \int_{-\infty}^{\infty} {f(x,y)dydx} \\
&amp;= \int_{A}{f_X{(x)dx}} \\
其中\ f_X{(x)} &amp;= \int_{-\infty}^{\infty}{f(x,y)dy}
\end{align}
\tag{4.29}\]</span></span></p>
<p>同理，<span class="math inline">\(Y\)</span> 的概率密度函数为：</p>
<p><span id="eq-4_3_013_436"><span class="math display">\[
\begin{align}
P\{Y \in B\} &amp;= P\{X \in (-\infty, \infty), Y \in B\} \\
&amp;= \int_{B} \int_{-\infty}^{\infty} {f(x,y)dxdy} \\
&amp;= \int_{B}{f_Y{(y)dy}} \\
其中\ f_Y{(y)} &amp;= \int_{-\infty}^{\infty}{f(x,y)dx}
\end{align}
\tag{4.30}\]</span></span></p>
<div id="exr-4_3_c" class="theorem exercise">
<p><span class="theorem-title"><strong>练习 4.3</strong></span> <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 的联合概率密度函数如下：</p>
<p><span class="math display">\[
f(x,y) = \begin{cases}
2e^{-x}e^{-2y}, \quad &amp; 0 \lt x \lt \infty, 0 \lt y \lt \infty \\
0, \quad &amp; otherwise
\end{cases}
\]</span></p>
<p>计算：</p>
<ul>
<li><span class="math inline">\(P\{X \gt 1, Y \lt 1\}\)</span></li>
<li><span class="math inline">\(P\{X \lt Y\}\)</span></li>
<li><span class="math inline">\(P\{X \lt a\}\)</span></li>
</ul>
</div>
<div id="sol-4_3_c" class="proof solution">
<p><span class="proof-title"><em>答案 4.3</em>. </span></p>
<div class="callout callout-style-default callout-tip callout-titled" title="$P\{X \gt 1, Y \lt 1\}$">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="math inline">\(P\{X \gt 1, Y \lt 1\}\)</span>
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[
\begin{align}
P\{X \gt 1, Y \lt 1\} &amp;= \int_{0}^{1} \int_{1}^{\infty} {2e^{-x}e^{-2y}dxdy} \\
&amp;= \int_{0}^{1}{2e^{-2y}(-e^{-x} \big |_{1}^{\infty})}dy \\
&amp;= e^{-1}\int_{0}^{1}2e^{-2y}dy \\
&amp;= e^{-1}(1-e^{-2})
\end{align}
\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="$P\{X \lt Y\}$">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="math inline">\(P\{X \lt Y\}\)</span>
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[
\begin{align}
P\{X \lt Y\} &amp;= \iint_{(x,y):x \lt y}{2e^{-x}e^{-2y}dxdy} \\
&amp;= \int_{0}^{\infty} \int_{0}^{y} {2e^{-x}e^{-2y}dxdy} \\
&amp;= \int_{0}^{\infty}{2e^{-2y}(1-e^{-y})dy} \\
&amp;= \int_{0}^{\infty}{2e^{-2y}dy} - \int_{0}^{\infty}{2e^{-3y}dy} \\
&amp;= 1-\frac{2}{3} \\
&amp;= \frac{1}{3}
\end{align}
\]</span></p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="$P\{X \lt a\}$">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="math inline">\(P\{X \lt a\}\)</span>
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[
\begin{align}
P\{X \lt a\} &amp;= \int_{0}^{a} \int_{0}^{\infty}{2e^{-2y}e^{-x}dydx} \\
&amp;= \int_{0}^{a}{e^{-x}dx} \\
&amp;= 1-e^{-a}
\end{align}
\]</span></p>
</div>
</div>
<p><span class="math inline">\(\blacksquare\)</span></p>
</div>
<section id="独立随机变量" class="level3" data-number="4.3.1">
<h3 data-number="4.3.1" class="anchored" data-anchor-id="独立随机变量"><span class="header-section-number">4.3.1</span> 独立随机变量</h3>
<p>对于任意的两个实数集 <span class="math inline">\(A\)</span> 和 <span class="math inline">\(B\)</span>，如果随机变量 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 满足 <a href="#eq-4_3_014_437" class="quarto-xref">方程式&nbsp;<span>4.31</span></a>，我们称 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 是相互独立的。</p>
<p><span id="eq-4_3_014_437"><span class="math display">\[
P\{X \in A, Y \in B\} = P\{X \in A\}P\{Y \in B\}
\tag{4.31}\]</span></span></p>
<p>换句话说，对于所有的 <span class="math inline">\(A\)</span>、<span class="math inline">\(B\)</span>，如果事件 <span class="math inline">\(E_A={X \in A}\)</span> 和 <span class="math inline">\(E_B={Y \in B}\)</span> 是相互独立的，那么 <strong>随机变量</strong> <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 也是相互独立的。</p>
<p>根据 <a href="../chapter_3/3.html#sec-3_4" class="quarto-xref"><span>章节 3.4</span></a> 中的概率论 <strong>三大公理</strong>，对于所有的 <span class="math inline">\(a\)</span>、<span class="math inline">\(b\)</span>，<a href="#eq-4_3_014_437" class="quarto-xref">方程式&nbsp;<span>4.31</span></a> 满足：</p>
<p><span id="eq-4_3_015"><span class="math display">\[
P\{X \le a, Y \le b\} = P\{X \le a\}P\{Y \le b\}
\tag{4.32}\]</span></span></p>
<p>因此，就 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 的联合分布函数 <span class="math inline">\(F\)</span> 而言，如果 <span class="math inline">\(F(a,b) = F_X(a)F_Y(b)\)</span>，则 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 是独立的。</p>
<p>当 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 是离散随机变量时，<a href="#eq-4_3_014_437" class="quarto-xref">方程式&nbsp;<span>4.31</span></a> 等价于：</p>
<p><span id="eq-4_3_016_438"><span class="math display">\[
p(x,y)=p_X{(x)}p_Y{(y)} \quad for \ all \ x,y
\tag{4.33}\]</span></span></p>
<p>其中，<span class="math inline">\(p_X\)</span> 和 <span class="math inline">\(p_Y\)</span> 分别为 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 的概率质量函数。</p>
<p>如果 <a href="#eq-4_3_014_437" class="quarto-xref">方程式&nbsp;<span>4.31</span></a> 成立，那么我们令 <span class="math inline">\(A={x}\)</span>，<span class="math inline">\(B={y}\)</span>，于是我们能够得到 <a href="#eq-4_3_016_438" class="quarto-xref">方程式&nbsp;<span>4.33</span></a>。此外，如果 <a href="#eq-4_3_016_438" class="quarto-xref">方程式&nbsp;<span>4.33</span></a> 成立，那么对于任何集合 <span class="math inline">\(X \in A\)</span>、<span class="math inline">\(Y \in B\)</span>，都有：</p>
<p><span class="math display">\[
\begin{align}
P\{X \in A, Y \in B\} &amp;= \sum_{y \in B}\sum_{x \in A}{p(x,y)} \\
&amp;= \sum_{y \in B}\sum_{x \in A}{p_X{(x)}p_Y{(y)}} \\
&amp;= \sum_{y \in B}{p_Y{(y)}} \sum_{x \in A}{p_X{(x)}} \\
&amp;= P\{Y \in B\}P\{X \in A\} \\
&amp;= P\{X \in A\}P\{Y \in B\}
\end{align}
\]</span></p>
<p>即，<a href="#eq-4_3_016_438" class="quarto-xref">方程式&nbsp;<span>4.33</span></a> 成立也意味着 <a href="#eq-4_3_014_437" class="quarto-xref">方程式&nbsp;<span>4.31</span></a> 成立。因此，<a href="#eq-4_3_014_437" class="quarto-xref">方程式&nbsp;<span>4.31</span></a> 和 <a href="#eq-4_3_016_438" class="quarto-xref">方程式&nbsp;<span>4.33</span></a> 是等价的。</p>
<p>同理，当 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 是连续随机变量时，<a href="#eq-4_3_014_437" class="quarto-xref">方程式&nbsp;<span>4.31</span></a> 等价于：对于所有的 <span class="math inline">\(x\)</span>、<span class="math inline">\(y\)</span>，都有 <span class="math inline">\(f(x,y) = f_X(x)f_Y(y)\)</span>。如果一个随机变量 <span class="math inline">\(X\)</span> 的取值不会改变另一个随机变量 <span class="math inline">\(Y\)</span> 的分布，那么我们可以大致认为 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 是独立的。不独立的随机变量称为 <strong>依赖随机变量</strong>。</p>
<div id="exr-4_3_d" class="theorem exercise">
<p><span class="theorem-title"><strong>练习 4.4</strong></span> 假设 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 是两个独立随机变量，其概率密度函数均为：</p>
<p><span class="math display">\[
f(x)=\begin{cases}
e^{-x}, \quad &amp; x \gt 0 \\
0, \quad &amp; otherwise
\end{cases}
\]</span></p>
<p>求 随机变量 <span class="math inline">\(\frac{X}{Y}\)</span> 的概率密度函数？</p>
</div>
<div id="sol-4_3_d" class="proof solution">
<p><span class="proof-title"><em>答案 4.4</em>. </span>首先，求 <span class="math inline">\(\frac{X}{Y}\)</span> 的概率分布函数 <span class="math inline">\(F\)</span>：</p>
<p><span class="math display">\[
\begin{align}
\forall a &amp; \gt 0, \\
F_{\frac{X}{Y}}{(a)} &amp;= P\{\frac{X}{Y} \le a\} \\
&amp;= \iint_{\frac{x}{y} \le a}{f(x,y)dxdy} \\
&amp;= \iint_{\frac{x}{y} \le a}{e^{-x}e^{-y}dxdy} \\
&amp;= \int_{0}^{\infty} \int_{0}^{ay} {e^{-x}e^{-y}dxdy} \\
&amp;= \int_{0}^{\infty} {(1-e^{-ay})e^{-y}dy} \\
&amp;= \bigg(-e^{-y} + \frac{e^{-(a+1)y}}{a+1}\bigg) \bigg | _{0}^{\infty} \\
&amp;= 1 - \frac{1}{a+1}
\end{align}
\]</span></p>
<p>对 <span class="math inline">\(F_{\frac{X}{Y}}{(a)}\)</span> 求导得到 <span class="math inline">\(f_{\frac{X}{Y}(a)} = \frac{1}{(1+a)^2}\)</span>。 <span class="math inline">\(\blacksquare\)</span></p>
</div>
<p>我们可以用定义 2 个 <strong>随机变量</strong> 的联合概率分布函数的方式来定义 <span class="math inline">\(n\)</span> 个 <strong>随机变量</strong>的联合概率分布函数。对于 <span class="math inline">\(n\)</span> 个 <strong>随机变量</strong> <span class="math inline">\(X_1,X_2,...,X_n\)</span>，其联合累积概率分布函数 <span class="math inline">\(F(a_1,a_2,...,a_n)\)</span> 为：</p>
<p><span id="eq-4_3_017"><span class="math display">\[
F(a_1,a_2,...,a_n) = P\{X_1 \le a_1, X_2 \le a_2,..., X_n \le a_n\}
\tag{4.34}\]</span></span></p>
<p>对于离散随机变量，则其联合概率质量函数 <span class="math inline">\(p(x_1,x_2,...,x_n)\)</span> 为：</p>
<p><span id="eq-4_3_018"><span class="math display">\[
p(x_1,x_2,...,x_n) = P\{X_1=x_1, X_2=x_2,..., X_n=x_n\}
\tag{4.35}\]</span></span></p>
<p>此外，对于 <span class="math inline">\(n\)</span> 维空间中的集合 <span class="math inline">\(C\)</span>，如果存在一个函数 <span class="math inline">\(f(\cdot)\)</span> 使得：</p>
<p><span id="eq-4_3_019"><span class="math display">\[
P\{(X_1,X_2,...,X_n) \in C\} = \idotsint_{(x_1,...,x_n) \in C}{f(x_1,...,x_n)dx_1 \cdots dx_n}
\tag{4.36}\]</span></span></p>
<p>我们称 <span class="math inline">\(f(x_1,...,x_n)\)</span> 为这 <span class="math inline">\(n\)</span> 个联合连续随机变量的联合概率密度函数。</p>
<p>特殊的，对于任意的 <span class="math inline">\(n\)</span> 个实数集 <span class="math inline">\(A_1,A_2,...,A_n\)</span>：</p>
<p><span id="eq-4_3_020"><span class="math display">\[
\begin{align}
P\{X_1 \in A_1, X_2 \in A_2, ..., X_n \in A_n\} &amp;= \\
\int_{A_n} \int_{A_{n-1}} \cdots \int_{A_1}{f(x_1,...,x_n)dx_1dx_2 \cdots dx_n} &amp;
\end{align}
\tag{4.37}\]</span></span></p>
<p>当然，也可以为两个之上的 <strong>随机变量</strong> 定义独立性。一般来的，对于 <span class="math inline">\(n\)</span> 个 <strong>随机变量</strong> <span class="math inline">\(X_1,X_2,...,X_n\)</span>，如果对于所有实数集 <span class="math inline">\(A_1,A_2,...,A_n\)</span> 都有：</p>
<p><span id="eq-4_3_021"><span class="math display">\[
P\{X_1 \in A_1, X_2 \in A_2, ..., X_n \in A_n\} = \Pi_{i=1}^{n}{P\{X_i \in A_i\}}
\tag{4.38}\]</span></span></p>
<p>则我们称这 <span class="math inline">\(n\)</span> 个随机变量时相互独立的。正如 <a href="#eq-4_3_014_437" class="quarto-xref">方程式&nbsp;<span>4.31</span></a> 和 <a href="#eq-4_3_016_438" class="quarto-xref">方程式&nbsp;<span>4.33</span></a> 所述，<a href="#eq-4_3_021" class="quarto-xref">方程式&nbsp;<span>4.38</span></a> 等价于 <a href="#eq-4_3_022" class="quarto-xref">方程式&nbsp;<span>4.39</span></a>：</p>
<p><span id="eq-4_3_022"><span class="math display">\[
P\{X_1 \le a_1, X_2 \le a_2, ..., X_n \le a_n\} = \Pi_{i=1}^{n}{P\{X_i \in a_i\}}
\tag{4.39}\]</span></span></p>
<p>对于一个随机变量的无限集合 <span class="math inline">\(S\)</span>，如果 <span class="math inline">\(S\)</span> 的所有的子集中的 <strong>随机变量</strong> 均是独立的，我们说 <span class="math inline">\(S\)</span> 中的所有随机变量之间是相互独立的。（<a href="../chapter_3/3.html#def-3_8_002" class="quarto-xref">定义&nbsp;<span>3.3</span></a> 的一般形式）</p>
<div id="exm-4_3_e" class="theorem example">
<p><span class="theorem-title"><strong>例子 4.6</strong></span> 假设某支股票的股价的连续每日变化是一个独立且同分布的随机变量，其概率质量函数为：</p>
<p><span class="math display">\[
P\{第 i 日变化\} = \begin{cases}
-3, \quad &amp;概率为 0.05 \\
-2, \quad &amp;概率为 0.10 \\
-1, \quad &amp;概率为 0.20 \\
0, \quad &amp;概率为 0.30 \\
1, \quad &amp;概率为 0.20 \\
2, \quad &amp;概率为 0.10 \\
3, \quad &amp;概率为 0.05
\end{cases}
\]</span></p>
<p>令 <span class="math inline">\(X_i\)</span> 表示第 <span class="math inline">\(i\)</span> 天的股价变化，那么，这只股票在未来的连续 3 天里，股价分别上涨 1%、2%、0% 的概率为：</p>
<p><span class="math display">\[
P\{X_1=1, X_2=2, X_3=0\} = 0.20 \cdot 0.10 \cdot 0.30 = 0.006 \quad \blacksquare
\]</span></p>
</div>
</section>
<section id="条件分布" class="level3" data-number="4.3.2">
<h3 data-number="4.3.2" class="anchored" data-anchor-id="条件分布"><span class="header-section-number">4.3.2</span> 条件分布</h3>
<p>对于两个 <strong>随机变量</strong>，通常可以利用其中一个变量在另一个变量的给定值的情况下的条件分布来确定这两个 <strong>随机变量</strong> 之间的关系。回顾一下，对于任意两个事件 <span class="math inline">\(E\)</span> 和 <span class="math inline">\(F\)</span>，只要 <span class="math inline">\(P(F)&gt;0\)</span>，则在给定 <span class="math inline">\(F\)</span> 条件下 <span class="math inline">\(E\)</span> 的条件概率为：</p>
<p><span class="math display">\[
P(E|F)=\frac{P(EF)}{P(F)}
\]</span></p>
<p>因此，如果 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 是两个离散随机变量，那么在给定 <span class="math inline">\(Y=y\)</span> 的条件下，<span class="math inline">\(X\)</span> 的条件概率质量函数为：</p>
<p><span class="math display">\[
\begin{align}
p_{X|Y}(x|y) &amp;= P\{X=x | Y=y\} \\
&amp;= \frac{P\{X=x, Y=y\}}{P\{Y=y\}} \\
&amp;= \frac{p(x,y)}{p_Y(y)}
\end{align}
\]</span></p>
<p>其中，对于所有的 <span class="math inline">\(y\)</span>，<span class="math inline">\(p_Y(y) \gt 0\)</span>。</p>
<div id="exr-4_3_f" class="theorem exercise">
<p><span class="theorem-title"><strong>练习 4.5</strong></span> 在 <a href="#exm-4_3_b" class="quarto-xref">例子&nbsp;<span>4.5</span></a> 中，如果我们知道所选择的这个家庭有 1 个女孩，计算该家庭的小孩中男孩数量的条件概率质量函数。</p>
</div>
<div id="sol-4_3_f" class="proof solution">
<p><span class="proof-title"><em>答案 4.5</em>. </span>首先，根据 <a href="#tbl-4_2" class="quarto-xref">表格&nbsp;<span>4.2</span></a>，<span class="math inline">\(P\{G=1\}=0.3875\)</span>，因此，</p>
<p><span class="math display">\[
\begin{align}
P\{B=0 | G=1\} &amp;= \frac{P\{B=0, G=1\}}{P\{G=1\}} = \frac{0.10}{0.3875} = \frac{8}{31} \\
P\{B=1 | G=1\} &amp;= \frac{P\{B=1, G=1\}}{P\{G=1\}} = \frac{0.175}{0.3875} = \frac{14}{31} \\
P\{B=2 | G=1\} &amp;= \frac{P\{B=2, G=1\}}{P\{G=1\}} = \frac{0.1125}{0.3875} = \frac{9}{31} \\
P\{B=3 | G=1\} &amp;= \frac{P\{B=3, G=1\}}{P\{G=1\}} = 0 \\
\end{align}
\]</span></p>
<p>因此，在有 1 个女孩的条件下，该家庭至少有 1 个男孩的概率为 <span class="math inline">\(\frac{23}{31}\)</span>。<span class="math inline">\(\blacksquare\)</span></p>
</div>
<div id="exr-4_3_g" class="theorem exercise">
<p><span class="theorem-title"><strong>练习 4.6</strong></span> 假设 <strong>随机变量</strong> <span class="math inline">\(X\)</span>、<span class="math inline">\(Y\)</span> 的联合概率质量函数 <span class="math inline">\(p(x,y)\)</span> 为：</p>
<p><span class="math display">\[
p(0,0)=0.4, \quad p(0,1)=0.2, \quad p(1,0)=0.1, \quad p(1,1)=0.3
\]</span></p>
<p>计算 <span class="math inline">\(P\{X|Y=1\}\)</span>？</p>
</div>
<div id="sol-4_3_g" class="proof solution">
<p><span class="proof-title"><em>答案 4.6</em>. </span><span class="math display">\[
\begin{align}
\because\ P\{Y = 1\} &amp;= \sum_{x}p(x,1) = p(0,1) + p(1,1) = 0.5 \\
\therefore\ P\{X=0|Y=1\} &amp;= \frac{p(0,1)}{P\{Y=1\}} = \frac{2}{5} \\
P\{X=1|Y=1\} &amp;= \frac{p(1,1)}{P\{Y=1\}} = \frac{3}{5} \qquad \blacksquare
\end{align}
\]</span></p>
</div>
<p>如果 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 的联合概率密度函数为 <span class="math inline">\(f(x,y)\)</span>，则在 <span class="math inline">\(Y=y\)</span> 的条件下，<span class="math inline">\(X\)</span> 的条件概率密度函数为：</p>
<p><span id="eq-4_3_023"><span class="math display">\[
f_{X|Y}(x|y) = \frac{f(x,y)}{f_Y{(y)}}, \quad \forall y: \ f_Y(y) \gt 0
\tag{4.40}\]</span></span></p>
<p>在 <a href="#eq-4_3_023" class="quarto-xref">方程式&nbsp;<span>4.40</span></a> 的左边乘以 <span class="math inline">\(\Delta x\)</span>，右边乘以 <span class="math inline">\(\frac{\Delta x \Delta y}{\Delta y}\)</span> 得到：</p>
<p><span id="eq-4_3_024"><span class="math display">\[
\begin{align}
f_{X|Y}(x|y) \Delta x &amp;= \frac{f(x,y) \Delta x \Delta y}{f_Y{(y)} \Delta y} \\
&amp; \approx \frac{P\{x \le X \le x + \Delta x, y \le Y \le y + \Delta y\}}{P\{y \le Y \le y + \Delta y\}} \\
&amp;= P\{x \le X \le x + \Delta x\ | y \le Y \le y + \Delta y\}
\end{align}
\tag{4.41}\]</span></span></p>
<p>也就是说，对于非常小的 <span class="math inline">\(\Delta x\)</span> 和 <span class="math inline">\(\Delta y\)</span> ，<span class="math inline">\(f_{X|Y}(x|y) \Delta x\)</span> 表示在 <span class="math inline">\(Y \in [y, y + \Delta y]\)</span> 的条件下，<span class="math inline">\(X \in [x, x + \Delta x]\)</span> 的条件概率。</p>
<p>我们可以使用条件概率密度函数来定义：在给定一个随机变量的值下，另一个随机变量的条件概率。也就是说，如果 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 都是连续 <strong>随机变量</strong>，那么，对于任何集合 <span class="math inline">\(A\)</span>，都有：</p>
<p><span class="math display">\[
P\{X \in A, Y=y\} = \int_{A}f_{X|Y}(x|y)dx
\]</span></p>
<div id="exr-4_3_h" class="theorem exercise">
<p><span class="theorem-title"><strong>练习 4.7</strong></span> <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 的联合概率密度函数为：</p>
<p><span class="math display">\[
f(x,y) = \begin{cases}
\frac{12}{5}x(2-x-y), \quad &amp; 0 \lt x \lt 1, 0 \lt y \lt 1\\
0, \quad &amp; otherwise
\end{cases}
\]</span></p>
<p>计算 <span class="math inline">\(Y=y: 0 \lt y \lt 1\)</span> 下，<span class="math inline">\(X\)</span> 的条件密度函数 <span class="math inline">\(f_{X|Y}(x|y)\)</span>。</p>
</div>
<div id="sol-4_3_h" class="proof solution">
<p><span class="proof-title"><em>答案 4.7</em>. </span>对于 <span class="math inline">\(0 \lt x \lt 1\)</span>，<span class="math inline">\(0 \lt y \lt 1\)</span>，我们有：</p>
<p><span class="math display">\[
\begin{align}
f_{X|Y}(x|y) &amp;= \frac{f(x,y)}{f_Y(y)} \\
&amp;= \frac{f(x,y)}{\int_{-\infty}^{\infty}{f(x,y)dx}} \\
&amp;= \frac{x(2-x-y)}{\int_0^1{x(2-x-y)dx}} \\
&amp;= \frac{x(2-x-y)}{\frac{2}{3} - \frac{y}{2}} \\
&amp;= \frac{6x(2-x-y)}{4-3y} \quad \blacksquare
\end{align}
\]</span></p>
</div>
</section>
</section>
<section id="期望" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="期望"><span class="header-section-number">4.4</span> 期望</h2>
<p><strong>随机变量</strong> 的 <strong>期望</strong>（<em>expectation</em>）是概率论中最重要的概念之一。如果 <span class="math inline">\(X\)</span> 是一个离散 <strong>随机变量</strong>，其可能的取值为 <span class="math inline">\(x_1\)</span>，<span class="math inline">\(x_2\)</span>，……那么 <span class="math inline">\(X\)</span> 的 <strong>期望</strong> 或 <strong>期望值</strong> <span class="math inline">\(E[X]\)</span> 为：</p>
<p><span id="eq-4_4_001"><span class="math display">\[
E[X] = \sum_{i}{x_iP\{X = x_i\}}
\tag{4.42}\]</span></span></p>
<p>换句话说，<span class="math inline">\(X\)</span> 的 <strong>期望</strong> 是其可能取值的加权平均数，其中每个可能取值的权重为该值对应的概率。</p>
<p>例如，如果 <span class="math inline">\(X\)</span> 的概率质量函数为 <span class="math inline">\(p(0)=p(1)=\frac{1}{2}\)</span>，则 <span class="math inline">\(E[X]\)</span> 只是 <span class="math inline">\(X\)</span> 的两个可能取值（0、1）的平均数：</p>
<p><span class="math display">\[
E[X] = 0 \cdot \frac{1}{2} + 1 \cdot \frac{1}{2} = \frac{1}{2}
\]</span></p>
<p>如果 <span class="math inline">\(p(0)=\frac{1}{3}\)</span>，<span class="math inline">\(p(1)=\frac{2}{3}\)</span>，则 <span class="math inline">\(E[X]\)</span> 是其两个可能取值（0、1）的加权平均值，其中 1 的权重是 0 的 2 倍（因为 <span class="math inline">\(p(1)=2p(0)\)</span>）：</p>
<p><span class="math display">\[
E[X] = 0 \cdot \frac{1}{3} + 1 \cdot \frac{2}{3} = \frac{2}{3}
\]</span></p>
<p>我们也可以利用概率的频率解释（<a href="../chapter_3/3.html#sec-3_1" class="quarto-xref"><span>章节 3.1</span></a>）来定义随机变量的 <strong>期望</strong>。概率的评率解释认为，如果独立的重复执行一个实验无数次，那么对于任何事件 <span class="math inline">\(E\)</span>，<span class="math inline">\(E\)</span> 发生的概率 <span class="math inline">\(P(E)\)</span> 就是其发生的次数的占比。现在，考虑一个随机变量 <span class="math inline">\(X\)</span>，它的取值为 <span class="math inline">\(x_1,x_2,...,x_n\)</span>，其概率分别为 <span class="math inline">\(p(x_1),p(x_2),...,p(x_n)\)</span>。把 <span class="math inline">\(X\)</span> 想象成我们在一个 <em>机会游戏</em>（<em>game of chance</em>）中得到的奖金，也就是说，我们将赢得 <span class="math inline">\(x_i\)</span> 单位奖金的概率为 <span class="math inline">\(p(x_i)\)</span>。根据概率的频率解释，如果我们继续玩这个游戏，那么我们赢得 <span class="math inline">\(x_i\)</span> 的次数占比将是 <span class="math inline">\(p(x_i)\)</span>。因此，我们在 <span class="math inline">\(n\)</span> 次比赛中的平均奖金将是：</p>
<p><span id="eq-4_4_002"><span class="math display">\[
\sum_{i=1}^{n}{x_ip(x_i)} = E[X]
\tag{4.43}\]</span></span></p>
<p>为了更清楚地看到 <a href="#eq-4_4_002" class="quarto-xref">方程式&nbsp;<span>4.43</span></a> 所示的结论，假设我们玩 <span class="math inline">\(N\)</span> 次游戏，其中 <span class="math inline">\(N\)</span> 是一个非常大的数。在这些游戏中，我们将赢得 <span class="math inline">\(x_i\)</span> 的次数大约为 <span class="math inline">\(Np(x_i)\)</span>，因此我们在 <span class="math inline">\(N\)</span> 次比赛中的总奖金将是：</p>
<p><span class="math display">\[
\sum_{i=1}^{n}{x_i \cdot Np(x_i)}
\]</span></p>
<p>所以，我们可以获得的平均奖金为：</p>
<p><span class="math display">\[
\sum_{i=1}^{n}{\frac{x_i \cdot Np(x_i)}{N}} = \sum_{i=1}^{n}{x_ip(x_i)} = E[X]
\]</span></p>
<div id="exr-4_4_a" class="theorem exercise">
<p><span class="theorem-title"><strong>练习 4.8</strong></span> 令 <strong>随机变量</strong> <span class="math inline">\(X\)</span> 为我们抛一个骰子所获得的点数，计算 <span class="math inline">\(E[X]\)</span>。</p>
</div>
<div id="sol-4_4_a" class="proof solution">
<p><span class="proof-title"><em>答案 4.8</em>. </span><span class="math display">\[
\begin{align}
\because\ &amp; p(1)=p(2)=p(3)=p(4)=p(5)=p(6)=\frac{1}{6} \\
\therefore\ &amp; E[X] = 1 \cdot \frac{1}{6} + 2 \cdot \frac{1}{6} + 3 \cdot \frac{1}{6} + 4 \cdot \frac{1}{6} + 5 \cdot \frac{1}{6} + 6 \cdot \frac{1}{6} = \frac{7}{2}
\end{align}
\]</span></p>
<p>读者应该注意，在 <a href="#exr-4_4_a" class="quarto-xref">练习&nbsp;<span>4.8</span></a> 中，<span class="math inline">\(X\)</span> 的期望值并不是 <span class="math inline">\(X\)</span> 的可能取值（也就是说，抛一个骰子，我们不可能得到 的点数）。因此，即使我们称 <span class="math inline">\(E[X]\)</span> 为 <span class="math inline">\(X\)</span> 的期望，我们也不能应该把 <span class="math inline">\(E[X]\)</span> 看作我们期望 <span class="math inline">\(X\)</span> 具有的值，而应该看作在大量重复实验中 <span class="math inline">\(X\)</span> 的平均值。也就是说，如果我们连续抛一个骰子，那么在抛了很多次之后，所得结果的平均点数将大约是 <span class="math inline">\(\frac{7}{2}\)</span>。（感兴趣的读者可以尝试一下这个实验。）<span class="math inline">\(\blacksquare\)</span></p>
</div>
<div id="exm-4_4_b" class="theorem example">
<p><span class="theorem-title"><strong>例子 4.7</strong></span> 如果一个事件 <span class="math inline">\(A\)</span> 的 <strong>指示随机变量</strong> 为 <span class="math inline">\(I\)</span>，如果</p>
<p><span class="math display">\[
I = \begin{cases}
1, \quad &amp; 如果 A 发生\\
0, \quad &amp; 如果 A 不发生
\end{cases}
\]</span></p>
<p>则 <span class="math inline">\(E[I] = 1 \cdot P(A) + 0 \cdot P(A^c) = P(A)\)</span>。因此，<strong>指示随机变量</strong> 的期望就是对应的事件发生的概率。<span class="math inline">\(\blacksquare\)</span></p>
</div>
<div id="exm-4_4-c" class="theorem example">
<p><span class="theorem-title"><strong>例子 4.8</strong></span> <em>熵（Entropy）</em>。给定一个 <strong>随机变量</strong> <span class="math inline">\(X\)</span>，<span class="math inline">\(X=x\)</span> 传递了多少信息（<em>information</em>）？让我们通过如下的方式来开始尝试量化 <span class="math inline">\(X=x\)</span> 中所传递的信息：<span class="math inline">\(X=x\)</span> 的信息量应该取决于 <span class="math inline">\(X\)</span> 等于 <span class="math inline">\(x\)</span> 的可能性。<span class="math inline">\(X\)</span> 等于 <span class="math inline">\(x\)</span> 的可能性越小，他所包含的信息就越多，这看起来是合理的。例如：如果 <span class="math inline">\(X\)</span> 表示抛两个骰子的点数之和，则 <span class="math inline">\(X = 12\)</span> 包含的信息量比 <span class="math inline">\(X = 7\)</span> 包含的信息量要大（因为 <span class="math inline">\(P\{X=12\}=\frac{1}{36}\)</span>，而 <span class="math inline">\(P\{X=7\}=\frac{1}{6}\)</span>）。</p>
<p>让我们用 <span class="math inline">\(I(p)\)</span> 来表示一个概率为 <span class="math inline">\(p\)</span> 的事件发生时的信息量。显然，<span class="math inline">\(I(p)\)</span> 应该是 <span class="math inline">\(p\)</span> 的非负递减函数。为了确定 <span class="math inline">\(I(p)\)</span>，令 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 是独立 <strong>随机变量</strong>，假设 <span class="math inline">\(P\{X=x\}=p\)</span>、<span class="math inline">\(P\{Y=y\}=q\)</span>。那么 <span class="math inline">\(X=x\)</span>、<span class="math inline">\(Y=y\)</span> 包含多少信息量？</p>
<ul>
<li><p>首先，<span class="math inline">\(X=x\)</span> 中包含的信息量是 <span class="math inline">\(I(p)\)</span>。</p></li>
<li><p>此外，由于我们已经知道 <span class="math inline">\(Y=y\)</span> 的概率并不受 <span class="math inline">\(X=x\)</span> 的影响（因为 <span class="math inline">\(X\)</span> 和 <span class="math inline">\(Y\)</span> 是独立的），所以 <span class="math inline">\(Y=y\)</span> 中包含的额外信息量应该等于 $I(q)。</p></li>
<li><p>因此，<span class="math inline">\(X=x\)</span>、<span class="math inline">\(Y=y\)</span> 中的信息量为 <span class="math inline">\(I(p)+I(q)\)</span>。</p></li>
<li><p>另一方面，我们有 <span class="math inline">\(P\{X=x, Y=y\}=P\{X=x\}P\{Y=y\}=pq\)</span>，这意味着 <span class="math inline">\(X=x\)</span>、<span class="math inline">\(Y=y\)</span> 中的信息量为 <span class="math inline">\(I(pq)\)</span>。</p></li>
<li><p>因此，看起来，<span class="math inline">\(I\)</span> 应该满足：<span class="math inline">\(I(pq) = I(p) + I(q)\)</span>。</p></li>
<li><p>如果我们定义函数 <span class="math inline">\(G\)</span> 为：<span class="math inline">\(G(p)=I(2^{-p})\)</span>，于是有：</p>
<p><span class="math display">\[
\begin{align}
G(p+q) &amp;= I(2^{-(p+q)}) \\
&amp;= I(2^{-p} \cdot 2^{-q}) \\
&amp;= I(2^{-p}) + I(2^{-q}) \\
&amp;= G(p) + G(q)
\end{align}
\]</span></p>
<p>可以证明，满足上述关系的唯一的单调函数 <span class="math inline">\(G\)</span> 是 <span class="math inline">\(G(p) = cp\)</span>，其中 <span class="math inline">\(c\)</span> 为常数。</p></li>
<li><p>于是，我们有 <span class="math inline">\(I(2^{-p}) = cp\)</span>，令 <span class="math inline">\(q=2^{-p}\)</span>，则 <span class="math inline">\(I(q) = -c \log_2{q}\)</span>（其中，<span class="math inline">\(c\)</span> 是一个大于 0 的常数）。我们经常令 <span class="math inline">\(c=1\)</span>，并且说：用 <strong>位（<em>bits</em>）</strong> 来测量信息量。</p></li>
</ul>
<p>现在，考虑一个随机变量 <span class="math inline">\(X\)</span>，它的取值为 <span class="math inline">\(x_1,x_2,...,x_n\)</span>，其概率分别为 <span class="math inline">\(p_1,p_2,...,p_n\)</span>。因为 <span class="math inline">\(X=x\)</span> 的信息量为 <span class="math inline">\(-\log_2(p_i)\)</span>，因此，<span class="math inline">\(X=x_i\)</span> 所包含的信息量的 <strong>期望</strong> 为：</p>
<p><span class="math display">\[
H(X) = - \sum_{i=1}^{n}{p_i \log_2{p_i}}
\]</span></p>
<p>在信息论中，<span class="math inline">\(H(X)\)</span> 就是众所周知的 <strong>随机变量</strong> <span class="math inline">\(X\)</span> 的 <strong>熵（<em>entropy</em>）</strong>。 <span class="math inline">\(\blacksquare\)</span></p>
</div>
<p>我们还可以定义连续 <strong>随机变量</strong> 的 <strong>期望</strong>。假设 <span class="math inline">\(X\)</span> 是一个概率密度函数为 <span class="math inline">\(f\)</span> 的连续 <strong>随机变量</strong>。对于一个较小的数 <span class="math inline">\(\Delta x\)</span>，有：</p>
<p><span class="math display">\[
f(x) \Delta x \approx P\{x \lt X \lt x + \Delta x\}
\]</span></p>
<p>如果 <span class="math inline">\(x\)</span> 的权重等于 <span class="math inline">\(X\)</span> 在 <span class="math inline">\(x\)</span> 附近的概率，则 <span class="math inline">\(X\)</span> 的所有可能值的加权平均数就是 <span class="math inline">\(xf(x) \Delta x\)</span> 在所有 <span class="math inline">\(x\)</span> 上的积分。通常，定义 <span class="math inline">\(X\)</span> 的期望为：</p>
<p><span class="math display">\[
E[X] = \int_{-\infty}^{\infty}{xf(x)dx}
\]</span></p>
<div id="exm-4_4_d" class="theorem example">
<p><span class="theorem-title"><strong>例子 4.9</strong></span> 假设您在下午 5 点后的某个时间期待一条消息。根据经验，您知道在下午 5 点后的 <span class="math inline">\(X\)</span> 个小时内会收到消息，并且 <span class="math inline">\(X\)</span> 是一个 <strong>随机变量</strong>，其概率密度函数为：</p>
<p><span class="math display">\[
f(x) = \begin{cases}
\frac{1}{1.5}, \quad &amp; 0 \lt x \lt 1.5 \\
0, \quad &amp; otherwise
\end{cases}
\]</span></p>
<p>则下午 5 点之后可以收到消息的期望时间为：<span class="math inline">\(E[X] = \int_{0}^{1.5}{\frac{1}{1.5}dx} = 0.75\)</span>。因此，您等待消息的时间平均为 45 分钟。 <span class="math inline">\(\blacksquare\)</span></p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="备注">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
备注
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><p><strong>期望</strong> 的概念类似于物理中的 <strong>重心</strong> 的概念。考虑一个离散 <strong>随机变量</strong> <span class="math inline">\(X\)</span>，其概率质量函数为 <span class="math inline">\(p(x_i), i \ge 1\)</span>。如果我们现在想象一个质量可以忽略不计的杆（<em>weightless rod</em>），在这根杆上的 <span class="math inline">\(x_i\)</span> 处的质量为 <span class="math inline">\(p(x_i)\)</span>（<span class="math inline">\(i \ge 1\)</span>)（见 <a href="#fig-4_4" class="quarto-xref">图&nbsp;<span>4.4</span></a>）。那么这根杆处于平衡状态的点称为重心（<em>the center fo gravity</em>）。对于那些熟悉统计学基础的读者来说，很容易证明这根杆的重心位于 <span class="math inline">\(E[X]\)</span> <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>。</p>
<div id="fig-4_4" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-4_4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="../images/chapter_4/f_4_4.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-4_4-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
图&nbsp;4.4: 重心位于 0.9 处
</figcaption>
</figure>
</div></li>
<li><p><span class="math inline">\(E[X]\)</span> 的计量单位与 <span class="math inline">\(X\)</span> 相同。</p></li>
</ul>
</div>
</div>
</section>
<section id="properties-of-the-expected-value" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="properties-of-the-expected-value"><span class="header-section-number">4.5</span> Properties of the expected value</h2>
</section>
<section id="variance" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="variance"><span class="header-section-number">4.6</span> Variance</h2>
</section>
<section id="covariance-and-variance-of-sums-of-random-variables" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="covariance-and-variance-of-sums-of-random-variables"><span class="header-section-number">4.7</span> Covariance and variance of sums of random variables</h2>
</section>
<section id="moment-generating-functions" class="level2" data-number="4.8">
<h2 data-number="4.8" class="anchored" data-anchor-id="moment-generating-functions"><span class="header-section-number">4.8</span> Moment generating functions</h2>
</section>
<section id="chebyshevs-inequality-and-the-weak-law-of-large-numbers" class="level2" data-number="4.9">
<h2 data-number="4.9" class="anchored" data-anchor-id="chebyshevs-inequality-and-the-weak-law-of-large-numbers"><span class="header-section-number">4.9</span> Chebyshev’s inequality and the weak law of large numbers</h2>
</section>
<section id="problems" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="problems">Problems</h2>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>为了证明这一点，我们必须证明这根杆绕点 <span class="math inline">\(E[X]\)</span> 转动的力矩之和等于 0。也就是说，我们必须证明 <span class="math inline">\(0=\sum_{i}{(x_i−E[X])p(x_i)}\)</span>。<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "已复制");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "已复制");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/wangwei1237\.github\.io\/introduction_to_probability_and_statistics\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="wangwei1237/introduction_to_probability_and_statistics" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../chapter_3/3.html" class="pagination-link" aria-label="概率论基础">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">概率论基础</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapter_5/5.html" class="pagination-link" aria-label="Special random variables">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Special random variables</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright Wang Wei. All Rights Reserved.</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/wangwei1237/introduction_to_probability_and_statistics/edit/main/chapter_4/4.qmd" class="toc-action"><i class="bi bi-github"></i>编辑该页面</a></li><li><a href="https://github.com/wangwei1237/introduction_to_probability_and_statistics/issues/new" class="toc-action"><i class="bi empty"></i>报告问题</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>